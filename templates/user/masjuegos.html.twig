{% extends 'baseIndex.html.twig' %}

{% block title %}L4P{% endblock %}

{% block body %}

    <div class="container">
        <div class="row">
        <div class="col-12 mt-3 ">
            <div class="row">
                <div class="col-12 text-lg-end text-center mb-3">
                
                 </div>
                <div class="col-12">
                <h1 class="text-center">Añade juegos nuevos que te interesen <strong id="user">{{user.nombre}}</strong></h1>
            
                </div>   
                
            </div>
        </div>
        
            <table class="col-12">
                <tr>
                    <td  class="p-5 h3"> <strong>Logo</strong></td>
                    <td  class="p-5 h3"><strong>Nombre</strong></td>
                    <td  class="p-5 h3"><strong>Categoría</strong></td>
                    <td  class="pt-5" id="addj" style="display:none"><button onclick=addJuegos(this) class="quitara text-center">Guardar</button></td>
                </tr>
                {% for juego in juegos %}
                <tr>
                <td class="px-5"><img width='50px' height='50px'  src="{{juego.displayPhoto()}}"/></td>
                    <td class="px-5 ">{{ juego.nombre }}</td>
                    <td class="px-5">{{ juego.categoria }}</td>
                    <td id="px-5 "> <button id="{{juego.id}}" onclick=clickaction(this) class="quitara text-center">Añadir</button> </td>
                    
                    
                </tr>
                   
                {% endfor %}
            </table>
        
                   
        </div>
    </div>
</div>

<script>
    var ids=[];
    function clickaction( b ){
      var id=b.getAttribute("id");
      
      b.style.backgroundColor="#2f3337";
      b.disabled=true;
      b.innerHTML="Añadido";

      var padre=b.parentNode.parentNode;
      ids.push(id);
       console.log(id);
      var addj=document.getElementById("addj");
      addj.style.display="block";

     // window.location.href = "http://127.0.0.1:8000/user/altajugador/"+id+"/"+equipo;
   }
   function addJuegos( b ){
      var user=document.getElementById("user");
      window.location.href = "http://127.0.0.1:8000/forum/altajuegos/"+ids+"/"+user.innerHTML;
   }
</script>
{% endblock %}